<script>
  let day = 0;

  // Only random spawn images here (not scaryban2)
  const images = [
    { file: "scary.png", chance: 1.0 },     // 20% chance
    { file: "scaryban2.png", chance: 0.05 }  // 5% chance
    // scaryban2 stays in the corner always
  ];

  function spawnImage(filename) {
    let img = document.createElement("img");
    img.src = filename;
    img.className = "scaryImage";

    const dayText = document.getElementById("dayText");
    const textRect = dayText.getBoundingClientRect();
    const imgSize = 250;
    let x, y;

    // Prevent overlap with counter text
    do {
      x = Math.random() * (window.innerWidth - imgSize);
      y = Math.random() * (window.innerHeight - imgSize);
    } while (
      x + imgSize > textRect.left &&
      x < textRect.right &&
      y + imgSize > textRect.top &&
      y < textRect.bottom
    );

    img.style.left = x + "px";
    img.style.top = y + "px";
    document.body.appendChild(img);
  }

  function nextDay() {
    day++;
    const dayText = document.getElementById("dayText");
    
    if (day <= 7) {
      dayText.textContent = day + " day" + (day > 1 ? "s" : "");
    }

    // Roll for each image individually
    images.forEach(imgData => {
      if (Math.random() < imgData.chance) {
        spawnImage(imgData.file);
      }
    });

    if (day === 7) {
      confetti({ particleCount: 300, spread: 120, origin: { y: 0.6 } });

      // Always spawn one random image on day 7
      const randomImg = images[Math.floor(Math.random() * images.length)];
      spawnImage(randomImg.file);

      day = 0;
      dayText.textContent = "7 day counter skibidi no fake its real";
    }
  }
</script>

<!-- Always-visible scaryban2 in the corner -->
<div id="scaryBanContainer">
  <div id="scaryBanText">look at him! hes so smegma!!</div>
  <div id="scaryBanArrow"></div>
  <img src="scaryban.png" alt="Scary Ban">
</div>
